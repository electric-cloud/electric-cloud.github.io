---
layout: default
---


<div class="center-content__text">
    <h3 class="center-content__title">Building the plugin</h3>

    <p>
        Go to the <i>myplugins/EC-HelloWorld</i> directory and run the following command.
    </p>

    {% highlight bash %}gradlew{% endhighlight %}

    <p>
        Since this is the first time you are building the plugin, it might take close to a minute to build the plugin since the GWT classes need to be compiled. Subsequent builds should not take more than a few seconds to complete.
    </p>

    <p>
        Once the build has completed successfully, you can find the plugin jar inside <i>build/EC-HelloWorld/</i> within the <i>myplugins/EC-HelloWorld</i> directory.
    </p>
</div>

<div class="center-content__text">
    <h3 class="center-content__title">Installing the plugin</h3>

    <p>
        Lets do a quick check to make sure that our plugin works as promised before we make our enhancements to the plugin. Start by installing the plugin jar on the ElectricFlow server using these steps:
    </p>

    <ol>
        <li>Login to the ElectricFlow server</li>
        <li>Go to <b>Automations->Administration->Plugins</b></li>
        <li>Select the <b>Install from File/URL</b> tab</li>
        <li>Choose the plugin jar file from <i>myplugins/EC-HelloWorld</i> directory and click the <b>Upload</b> button to install the plugin.</li>
    </ol>

    <p>
        Once the plugin is installed, you can view it on the <b>Currently Installed</b> tab on the <b>Plugins</b> page. Lets try out the plugin using the following steps:
    </p>

    <ol>
        <li>Click on the <b>EC-HelloWorld</b> plugin link on the <b>Plugins</b> page.</li>
        <li>Click on the <b>SayHello</b> procedure.</li>
        <li>Select the <b>Run->Run Immediately</b> option.</li>
    </ol>

    <p>
        The plugin procedure job should complete successfully with the expected 'Hello World':
        <img src="{{site.baseurl}}/assets/hello_world_result.png" alt="Hello World plugin result">
    </p>
</div>

<div class="center-content__text">
    <h3 class="center-content__title">Enhancing the plugin</h3>
    <p>
        Now lets make a small enhancement to the plugin code and see how we would build the plugin again with the change and install it.
    </p>
    <p>
        Start by opening the file <i>myplugins/EC-HelloWorld/src/main/resources/project/procedures/sayHello.pl</i> in your favourite text editor. This is the Perl script that prints 'Hello World' when we run the <b>SayHello</b> procedure. Update the script by adding the first 3 lines before the 'Hello World' message is printed.
    </p>

{% highlight bash %}
# Sign the message with the host name of the agent running the procedure
my $hostName = "$[/myResource/hostName]";
$msg .= " [Signed] - $hostName";

# Add the above 3 lines before this block
# Set the message in the job summary as well as print it in the step logs.
$ec->setProperty("summary", $msg . "\n");
print $msg;
{% endhighlight %}

    <p>
        Lets rebuild and install the plugin now.
    </p>

    <ol>
        <li>
            Go to the <i>myplugins/EC-HelloWorld</i> directory and run:
            {% highlight bash %}gradlew{% endhighlight %}
            Once the build has completed successfully, you can find the updated plugin jar inside <i>build/EC-HelloWorld/</i> within the <i>myplugins/EC-HelloWorld</i> directory.
        </li>
        <li>
            Install the updated plugin jar on the ElectricFlow server using the steps described earlier.
        </li>
        <li>
            Run the <b>SayHello</b> procedure again.
        </li>
    </ol>

    <p>
        The plugin procedure job should complete successfully with our enhanced 'Hello World' message:
        <img src="{{site.baseurl}}/assets/enhanced_hello_world_result.png" style="width:650px" alt="Enhanced Hello World result">
    </p>

</div>


<div class="center-content__text">
    <h3 class="center-content__title">Next steps</h3>
    <p>
        We have only just scratched the surface with this Quick Start guide. There is a lot you can do with plugins. You can learn more about the ElectricCloud open source plugins <a href={{site.baseurl}}"/index.html">here</a>.
    </p>
</div>


